package me.twammer.domain

import org.springframework.validation.Errors;

import grails.test.*

class TwamIntegrationTests extends GroovyTestCase {
    protected void setUp() {
        super.setUp()
    }

    protected void tearDown() {
        super.tearDown()
    }

    void testTwamBasicNoUserSave() {
		
		def twam = new Twam(message:"My First Twam", fromWho:"JimBob", timePosted:"1 min ago")
		// make sure we can save it
		assertNotNull twam.save()
		
		def errors = twam.errors
		assertNotNull errors
		
		// make sure it doesn't have
		assertNotNull twam.id		
		
		// try to retrieve it.
		def newFoundTwam = Twam.get(twam.id);
		assertEquals 'JimBob',newFoundTwam.fromWho 		
    }
}
